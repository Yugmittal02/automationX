<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutomationX | Enterprise WhatsApp Automation</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- 1. MODERN COLOR PALETTE & CORE STYLES --- */
        :root {
            --primary: #2563eb; /* Electric Blue */
            --primary-gradient: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            --secondary: #0f172a; /* Midnight Navy (Dark Background) */
            --accent: #38bdf8; /* Sky Blue Glow */
            --text-dark: #1e293b;
            --text-light: #64748b;
            --white: #ffffff;
            --light-bg: #f8fafc;
            --card-shadow: 0 10px 40px -10px rgba(0,0,0,0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        body { background-color: var(--white); color: var(--text-dark); line-height: 1.6; overflow-x: hidden; }

        /* --- 2. GLASS NAVBAR --- */
        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 5%; 
            background: rgba(255, 255, 255, 0.85); /* Translucent */
            backdrop-filter: blur(12px); /* Frosted Glass Effect */
            border-bottom: 1px solid rgba(0,0,0,0.05);
            position: fixed; width: 100%; top: 0; z-index: 1000;
        }
        .logo { font-size: 24px; font-weight: 800; color: var(--primary); display: flex; align-items: center; gap: 10px; letter-spacing: -0.5px; }
        .logo i { color: var(--secondary); }

        .nav-links { display: flex; gap: 30px; list-style: none; }
        .nav-links a { text-decoration: none; color: var(--text-dark); font-weight: 600; transition: 0.3s; font-size: 15px; }
        .nav-links a:hover { color: var(--primary); }
        
        .mobile-menu-btn { display: none; font-size: 24px; cursor: pointer; color: var(--dark); }

        /* Modern Gradient Buttons */
        .btn { padding: 12px 28px; border-radius: 50px; border: none; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-size: 15px; display: inline-block; }
        .btn-primary { background: var(--primary-gradient); color: var(--white); box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3); }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4); }
        .btn-outline { border: 2px solid var(--secondary); background: transparent; color: var(--secondary); }
        .btn-outline:hover { background: var(--secondary); color: var(--white); }

        /* --- 3. DYNAMIC HERO SECTION --- */
        header { 
            padding: 160px 5% 100px; display: flex; align-items: center; justify-content: space-between; 
            background: radial-gradient(circle at top right, #eff6ff, #fff); flex-wrap: wrap; gap: 40px;
        }
        .hero-text { flex: 1; min-width: 300px; }
        .hero-text h1 { 
            font-size: 56px; line-height: 1.1; margin-bottom: 20px; color: var(--secondary); 
            letter-spacing: -1.5px; font-weight: 900; 
        }
        .hero-text span { color: var(--primary); position: relative; }
        /* Typing Cursor Animation */
        .typewriter-cursor { border-right: 4px solid var(--primary); animation: blink 0.7s infinite; }
        
        .hero-text p { font-size: 20px; color: var(--text-light); margin-bottom: 35px; max-width: 90%; }
        
        .hero-image { flex: 1; min-width: 300px; position: relative; perspective: 1000px; }
        .hero-image img { 
            width: 100%; border-radius: 24px; 
            box-shadow: 0 30px 60px -10px rgba(0,0,0,0.15); 
            border: 1px solid rgba(255,255,255,0.5);
            animation: float 6s ease-in-out infinite; 
        }

        /* --- 4. STATS STRIP --- */
        .stats-bar { 
            background: var(--secondary); color: white; padding: 50px 5%; 
            display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; text-align: center; 
            border-radius: 0; margin-top: -40px; position: relative; z-index: 2;
        }
        .stat-item h3 { font-size: 42px; font-weight: 800; color: var(--accent); margin-bottom: 5px; }
        .stat-item p { color: #94a3b8; font-size: 14px; font-weight: 600; letter-spacing: 1px; text-transform: uppercase; }

        /* --- 5. CARDS & SERVICES --- */
        .section-container { padding: 100px 5%; }
        .section-header { text-align: center; margin-bottom: 60px; max-width: 700px; margin: 0 auto 60px; }
        .section-header h2 { font-size: 36px; font-weight: 800; color: var(--secondary); margin-bottom: 15px; }
        .section-header p { color: var(--text-light); font-size: 18px; }

        .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; }
        .service-card { 
            padding: 40px; border-radius: 20px; background: white; 
            border: 1px solid #f1f5f9; transition: all 0.4s ease; 
            position: relative; overflow: hidden;
        }
        .service-card:hover { 
            transform: translateY(-10px); 
            box-shadow: var(--card-shadow); 
            border-color: var(--primary); 
        }
        .service-card i { font-size: 40px; color: var(--primary); margin-bottom: 20px; background: #eff6ff; padding: 15px; border-radius: 12px; }
        .service-card h3 { font-size: 22px; margin-bottom: 10px; font-weight: 700; }
        .service-card p { color: var(--text-light); margin-bottom: 20px; font-size: 15px; }
        .service-link { color: var(--primary); font-weight: 700; text-decoration: none; display: inline-flex; align-items: center; gap: 5px; }

        /* --- 6. ROI CALCULATOR --- */
        .roi-section { background: var(--light-bg); }
        .roi-container { background: white; max-width: 900px; margin: 0 auto; padding: 50px; border-radius: 24px; box-shadow: var(--card-shadow); display: flex; flex-wrap: wrap; gap: 40px; }
        .roi-inputs { flex: 1; min-width: 300px; }
        .roi-inputs label { font-weight: 600; display: block; margin-bottom: 8px; color: var(--secondary); }
        .roi-inputs input { width: 100%; padding: 14px; margin-bottom: 20px; border: 1px solid #e2e8f0; border-radius: 10px; font-size: 16px; transition: 0.3s; }
        .roi-inputs input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1); }
        
        .roi-result { flex: 1; background: var(--secondary); color: white; padding: 40px; border-radius: 20px; display: flex; flex-direction: column; justify-content: center; text-align: center; position: relative; overflow: hidden; }
        .roi-result::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%); }
        .roi-result .amount { font-size: 52px; font-weight: 900; color: var(--accent); margin: 10px 0; }

        /* --- 7. PRICING --- */
        .price-card { background: white; padding: 40px; border-radius: 24px; text-align: center; border: 1px solid #e2e8f0; transition: 0.3s; position: relative; }
        .price-card.popular { border: 2px solid var(--primary); transform: scale(1.05); box-shadow: 0 20px 50px rgba(37, 99, 235, 0.15); z-index: 2; }
        .badge { background: var(--primary); color: white; padding: 6px 16px; border-radius: 20px; font-size: 12px; font-weight: 800; letter-spacing: 1px; position: absolute; top: -15px; left: 50%; transform: translateX(-50%); }
        .price { font-size: 48px; font-weight: 800; color: var(--secondary); margin: 20px 0; }
        .price span { font-size: 16px; color: var(--text-light); font-weight: 500; }
        
        /* --- 8. CHATBOT UI (Apple/iMessage Style) --- */
        .chatbot-toggler { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: var(--secondary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: none; cursor: pointer; font-size: 26px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); z-index: 999; transition: 0.3s; }
        .chatbot-toggler:hover { transform: scale(1.1); background: var(--primary); }
        
        .chatbot-window { position: fixed; right: 35px; bottom: 100px; width: 360px; background: white; border-radius: 20px; overflow: hidden; opacity: 0; pointer-events: none; transform: scale(0.9); transform-origin: bottom right; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: 0 20px 60px rgba(0,0,0,0.2); z-index: 1000; }
        .show-chatbot .chatbot-window { opacity: 1; pointer-events: auto; transform: scale(1); }
        
        .chat-header { background: var(--secondary); padding: 18px; color: white; display: flex; justify-content: space-between; align-items: center; }
        .chat-box { height: 320px; overflow-y: auto; padding: 20px; background: #f8fafc; display: flex; flex-direction: column; gap: 12px; }
        
        .chat-message p { padding: 12px 16px; border-radius: 18px; max-width: 85%; font-size: 14px; line-height: 1.5; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .chat-message.bot p { background: white; border-bottom-left-radius: 4px; color: var(--text-dark); }
        .chat-message.user { align-self: flex-end; }
        .chat-message.user p { background: var(--primary); color: white; border-bottom-right-radius: 4px; }
        
        .chat-input { padding: 15px; border-top: 1px solid #e2e8f0; display: flex; gap: 10px; background: white; }
        .chat-input textarea { width: 100%; border: none; outline: none; resize: none; height: 40px; font-size: 14px; background: transparent; }
        #sendBtn { color: var(--primary); font-size: 20px; cursor: pointer; align-self: center; }

        /* --- 9. MODAL & FOOTER --- */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(15, 23, 42, 0.7); backdrop-filter: blur(5px); align-items: center; justify-content: center; }
        .modal-content { background-color: white; padding: 40px; border-radius: 20px; width: 90%; max-width: 450px; position: relative; animation: fadeUp 0.3s ease; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
        
        footer { background: var(--secondary); color: #94a3b8; padding: 80px 5% 30px; }
        .footer-top h4 { color: white; font-size: 18px; margin-bottom: 20px; }
        .footer-top a { color: #94a3b8; text-decoration: none; display: block; margin-bottom: 12px; transition: 0.3s; }
        .footer-top a:hover { color: var(--primary); }

        /* Animations */
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
        @keyframes blink { 50% { border-color: transparent; } }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .mobile-menu-btn { display: block; }
            .nav-links { position: fixed; top: 70px; left: -100%; width: 100%; height: 100vh; background: white; flex-direction: column; align-items: center; padding-top: 50px; transition: 0.4s ease; }
            .nav-links.active { left: 0; }
            header { padding-top: 120px; text-align: center; flex-direction: column-reverse; }
            .hero-text h1 { font-size: 40px; }
            .price-card.popular { transform: scale(1); }
            .chatbot-window { width: 90%; right: 5%; bottom: 90px; }
        }
    </style>
</head>
<body>

    <nav>
        <div class="logo"><i class="fa-solid fa-layer-group"></i> AutomationX</div>
        <div class="mobile-menu-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></div>
        <ul class="nav-links">
            <li><a href="#services" onclick="toggleMenu()">Services</a></li>
            <li><a href="#roi" onclick="toggleMenu()">Calculator</a></li>
            <li><a href="#pricing" onclick="toggleMenu()">Pricing</a></li>
            <li><button class="btn btn-primary" onclick="openModal(); toggleMenu();">Get Free Demo</button></li>
        </ul>
    </nav>

    <header>
        <div class="hero-text">
            <h1>Scale Your Business with <br>
                <span id="typewriter">WhatsApp Bots</span><span class="typewriter-cursor"></span>
            </h1>
            <p>Stop chasing leads manually. Let our AI-powered digital employees handle customer queries, invoices, and marketing 24/7.</p>
            <div style="display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; md:justify-content: flex-start;">
                <button class="btn btn-primary" onclick="openModal()">Start Automating</button>
                <button class="btn btn-outline" onclick="document.getElementById('roi').scrollIntoView()">Calculate Savings</button>
            </div>
            <p style="margin-top: 20px; font-size: 13px; color: var(--text-light);"><i class="fa-solid fa-shield-halved" style="color: var(--primary);"></i> Official Meta Partner APIs</p>
        </div>
        <div class="hero-image">
            <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Dashboard">
        </div>
    </header>

    <section class="stats-bar">
        <div class="stat-item"><h3>50+</h3><p>Hours Saved/Week</p></div>
        <div class="stat-item"><h3>â‚¹2Cr+</h3><p>Revenue Generated</p></div>
        <div class="stat-item"><h3>24/7</h3><p>Zero Downtime</p></div>
        <div class="stat-item"><h3>100%</h3><p>Secure & Private</p></div>
    </section>

    <section id="services" class="section-container">
        <div class="section-header">
            <h2>Everything You Need to Grow</h2>
            <p>We don't just build bots; we build complete business systems.</p>
        </div>
        <div class="services-grid">
            <div class="service-card">
                <i class="fa-brands fa-whatsapp"></i>
                <h3>Auto-Reply Agents</h3>
                <p>Instantly answer "Price?", "Location?", and "Menu?" queries. Never miss a lead while you sleep.</p>
                <a href="#" class="service-link" onclick="openModal()">See Live Demo <i class="fa-solid fa-arrow-right"></i></a>
            </div>
            <div class="service-card">
                <i class="fa-solid fa-file-invoice-dollar"></i>
                <h3>Smart Invoicing</h3>
                <p>Connects to Tally/Zoho. Automatically generates and sends PDF invoices on WhatsApp after payment.</p>
                <a href="#" class="service-link" onclick="openModal()">Try Template <i class="fa-solid fa-arrow-right"></i></a>
            </div>
            <div class="service-card">
                <i class="fa-solid fa-bullhorn"></i>
                <h3>Viral Broadcasting</h3>
                <p>Send festival offers and catalogs to 10,000+ customers safely without getting blocked.</p>
                <a href="#" class="service-link" onclick="openModal()">Start Campaign <i class="fa-solid fa-arrow-right"></i></a>
            </div>
        </div>
    </section>

    <section id="roi" class="section-container roi-section">
        <div class="section-header">
            <h2>Instant ROI Calculator</h2>
            <p>See exactly how much money AutomationX saves you monthly.</p>
        </div>
        <div class="roi-container">
            <div class="roi-inputs">
                <label>Messages received per day</label>
                <input type="number" id="msgsPerDay" value="50" oninput="calculateROI()">
                <label>Minutes spent per message</label>
                <input type="number" id="minsPerMsg" value="3" oninput="calculateROI()">
                <label>Your Hourly Value (â‚¹)</label>
                <input type="number" id="hourlyRate" value="500" oninput="calculateROI()">
            </div>
            <div class="roi-result">
                <p style="color: #94a3b8; font-weight: 600; letter-spacing: 1px;">YOU SAVE MONTHLY</p>
                <div class="amount">â‚¹<span id="savingsResult">37,500</span></div>
                <p style="margin-top:15px; color:#cbd5e1;">That's <span id="hoursResult" style="color:white; font-weight:bold;">75</span> hours of manual work eliminated!</p>
            </div>
        </div>
    </section>

    <section id="pricing" class="section-container">
        <div class="section-header">
            <h2>Transparent Pricing</h2>
            <p>Invest in efficiency. Cancel anytime.</p>
        </div>
        <div class="services-grid" style="max-width: 1100px; margin: 0 auto;">
            <div class="price-card">
                <h3>Starter</h3>
                <div class="price">â‚¹2,500<span>/mo</span></div>
                <ul style="list-style:none; text-align:left; margin:30px 0; color:#64748b;">
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-check" style="color:var(--primary); margin-right:10px;"></i> WhatsApp Auto-Reply</li>
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-check" style="color:var(--primary); margin-right:10px;"></i> Basic Invoicing</li>
                </ul>
                <button class="btn btn-outline" style="width:100%" onclick="openModal()">Select Starter</button>
            </div>
            <div class="price-card popular">
                <div class="badge">MOST POPULAR</div>
                <h3>Growth</h3>
                <div class="price">â‚¹5,000<span>/mo</span></div>
                <ul style="list-style:none; text-align:left; margin:30px 0; color:#64748b;">
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-check" style="color:var(--primary); margin-right:10px;"></i> <strong>Everything in Starter</strong></li>
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-check" style="color:var(--primary); margin-right:10px;"></i> Birthday Automation</li>
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-check" style="color:var(--primary); margin-right:10px;"></i> Broadcast Campaigns</li>
                </ul>
                <button class="btn btn-primary" style="width:100%" onclick="openModal()">Select Growth</button>
            </div>
            <div class="price-card">
                <h3>Enterprise</h3>
                <div class="price">Custom</div>
                <ul style="list-style:none; text-align:left; margin:30px 0; color:#64748b;">
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-check" style="color:var(--primary); margin-right:10px;"></i> Custom API Integrations</li>
                    <li style="margin-bottom:10px;"><i class="fa-solid fa-check" style="color:var(--primary); margin-right:10px;"></i> Green Tick Verification</li>
                </ul>
                <button class="btn btn-outline" style="width:100%" onclick="openModal()">Contact Sales</button>
            </div>
        </div>
    </section>

    <footer>
        <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 40px;" class="footer-top">
            <div>
                <h4 style="color:white; font-size:20px;">AutomationX</h4>
                <p>The future of business is automated.</p>
            </div>
            <div>
                <h4>Company</h4>
                <a href="#services">Services</a>
                <a href="#pricing">Pricing</a>
                <a href="#">Case Studies</a>
            </div>
            <div>
                <h4>Contact</h4>
                <a href="https://wa.me/918619152422">+91 86191 52422</a>
                <a href="mailto:support@automationx.com">support@automationx.com</a>
            </div>
        </div>
        <div style="text-align:center; border-top:1px solid #334155; padding-top:30px; margin-top:40px;">
            <p>&copy; 2025 AutomationX Agency. All Rights Reserved.</p>
        </div>
    </footer>

    <div id="demoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 style="text-align:center; margin-bottom:10px; color:var(--secondary);">Book Free Demo</h2>
            <p style="text-align:center; color:#64748b; margin-bottom:25px;">We will contact you on WhatsApp instantly.</p>
            <form id="demo-form">
                <input type="hidden" name="access_key" value="YOUR_ACCESS_KEY_HERE"> <div style="margin-bottom:15px;">
                    <input type="text" name="name" placeholder="Your Name" required style="width:100%; padding:12px; border:1px solid #e2e8f0; border-radius:8px;">
                </div>
                <div style="margin-bottom:15px;">
                    <input type="tel" name="phone" placeholder="WhatsApp Number" required style="width:100%; padding:12px; border:1px solid #e2e8f0; border-radius:8px;">
                </div>
                <div style="margin-bottom:20px;">
                    <input type="email" name="email" placeholder="Email Address" required style="width:100%; padding:12px; border:1px solid #e2e8f0; border-radius:8px;">
                </div>
                <button type="submit" id="formSubmitBtn" class="btn btn-primary" style="width:100%;">Secure My Spot</button>
            </form>
        </div>
    </div>

    <button class="chatbot-toggler"><i class="fa-solid fa-robot"></i></button>
    <div class="chatbot-window">
        <div class="chat-header">
            <div style="display:flex; align-items:center; gap:10px;">
                <div style="width:10px; height:10px; background:#4ade80; border-radius:50%;"></div>
                <h3 style="font-size:16px; margin:0;">AutoBot AI</h3>
            </div>
            <span class="close-chat"><i class="fa-solid fa-xmark"></i></span>
        </div>
        <div class="chat-box" id="chatBox">
            <div class="chat-message bot"><p>Hello! ðŸ‘‹ I can help you automate your business. Try asking "What is the price?"</p></div>
        </div>
        <div class="chat-input">
            <textarea id="chatInput" placeholder="Type your message..."></textarea>
            <span id="sendBtn"><i class="fa-solid fa-location-arrow"></i></span>
        </div>
    </div>

    <script>
        // 1. TYPEWRITER EFFECT
        const words = ["WhatsApp Bots", "Smart Invoicing", "Auto-Marketing", "Business Growth"];
        let i = 0, timer;
        
        function typeWriter() {
            const heading = document.getElementById("typewriter");
            heading.textContent = words[i];
            i = (i + 1) % words.length;
        }
        setInterval(typeWriter, 2500); // Change text every 2.5s

        // 2. UPDATE YOUR API URL HERE
        const API_URL = "https://automationx-backend.onrender.com/chat"; 

        // 3. LOGIC FOR CALCULATOR, MODAL, CHAT
        function toggleMenu() { document.querySelector('.nav-links').classList.toggle('active'); }
        
        function calculateROI() {
            const msgs = document.getElementById('msgsPerDay').value;
            const mins = document.getElementById('minsPerMsg').value;
            const rate = document.getElementById('hourlyRate').value;
            document.getElementById('savingsResult').innerText = Math.round(((msgs * mins) / 60) * 30 * rate).toLocaleString();
            document.getElementById('hoursResult').innerText = Math.round(((msgs * mins) / 60) * 30);
        }

        const modal = document.getElementById("demoModal");
        function openModal() { modal.style.display = "flex"; }
        function closeModal() { modal.style.display = "none"; }
        window.onclick = function(e) { if (e.target == modal) closeModal(); }

        // CHATBOT LOGIC
        const chatbotToggler = document.querySelector(".chatbot-toggler");
        const closeChat = document.querySelector(".close-chat");
        const chatInput = document.getElementById("chatInput");
        const sendBtn = document.getElementById("sendBtn");
        const chatBox = document.getElementById("chatBox");
        const chatHeader = document.querySelector(".chat-header");
        let chatHistory = [];

        const createChatLi = (msg, className) => {
            const li = document.createElement("div");
            li.classList.add("chat-message", className);
            li.innerHTML = `<p>${msg}</p>`;
            return li;
        };

        const generateResponse = async (msg) => {
            chatHistory.push({ role: "user", content: msg });
            chatBox.appendChild(createChatLi(msg, "user"));
            const loadLi = createChatLi("...", "bot");
            chatBox.appendChild(loadLi);
            chatBox.scrollTo(0, chatBox.scrollHeight);

            try {
                const res = await fetch(API_URL, {
                    method: "POST", headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ history: chatHistory })
                });
                const data = await res.json();
                let reply = data.reply;

                if (reply.includes("[OPEN_DEMO_FORM]")) {
                    reply = reply.replace("[OPEN_DEMO_FORM]", "").trim();
                    setTimeout(() => openModal(), 1000);
                }
                if (reply.includes("[ANGRY_CUSTOMER]")) {
                    reply = reply.replace("[ANGRY_CUSTOMER]", "").trim();
                    chatHeader.style.background = "#ef4444";
                    setTimeout(() => alert("âš ï¸ Priority Support Activated!"), 500);
                }

                chatBox.removeChild(loadLi);
                chatBox.appendChild(createChatLi(reply, "bot"));
                chatHistory.push({ role: "assistant", content: reply });
                chatBox.scrollTo(0, chatBox.scrollHeight);
            } catch (err) {
                chatBox.removeChild(loadLi);
                chatBox.appendChild(createChatLi("Connection failed. Is server running?", "bot"));
            }
        };

        sendBtn.addEventListener("click", () => {
            const msg = chatInput.value.trim();
            if(msg) { chatInput.value = ""; generateResponse(msg); }
        });
        chatInput.addEventListener("keypress", (e) => {
            if(e.key === "Enter" && !e.shiftKey) { e.preventDefault(); sendBtn.click(); }
        });

        chatbotToggler.addEventListener("click", () => document.body.classList.toggle("show-chatbot"));
        closeChat.addEventListener("click", () => document.body.classList.remove("show-chatbot"));

        // FORM SUBMIT
        const demoForm = document.getElementById('demo-form');
        if(demoForm) {
            demoForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const btn = document.getElementById('formSubmitBtn');
                const originalText = btn.innerText;
                btn.innerText = "Sending..."; btn.disabled = true;
                const json = JSON.stringify(Object.fromEntries(new FormData(demoForm)));
                
                fetch('https://api.web3forms.com/submit', {
                    method: 'POST', headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                    body: json
                }).then(async (res) => {
                    if (res.status == 200) { alert("âœ… Demo Booked! We will call you."); demoForm.reset(); closeModal(); }
                    else { alert("Error sending."); }
                }).catch(() => alert("Connection Error!"))
                .then(() => { btn.innerText = originalText; btn.disabled = false; });
            });
        }
    </script>
</body>
</html>